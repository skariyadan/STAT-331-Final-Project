library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="darkpink", fill=TRUE, add=TRUE)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
legend(1, 95, legend=c("Line 1", "Line 2"),
col=c("red", "blue"), lty=1:2, cex=0.8)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
legend(0, 0, legend=c("Line 1", "Line 2"),
col=c("red", "blue"), lty=1:2, cex=0.8)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", ylab="(colored by majority presence)")
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", xlab="(colored by majority presence)")
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Group 1", "Group 2"),
col = c(rgb(0.2,0.4,0.1,0.7),
rgb(0.8,0.4,0.1,0.7)),
pch = c(17,19),
bty = "n",
pt.cex = 2,
cex = 1.2,
text.col = "black",
horiz = F ,
inset = c(0.1, 0.1))
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c(rgb(0.2,0.4,0.1,0.7),
rgb(0.8,0.4,0.1,0.7)),
pch = c(17,19),
bty = "n",
text.col = "black",
horiz = F ,
inset = c(0.1, 0.1))
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c(rgb(0.2,0.4,0.1,0.7),
rgb(0.8,0.4,0.1,0.7)),
pch = 19,
bty = "n",
text.col = "black",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c(rgb(0.2,0.4,0.1,0.7),
rgb(0.8,0.4,0.1,0.7)),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
View(statePrevalence)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin","state"]
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
dunkinRegions
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = dunkinRegions, col="pink", add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = dunkinRegions, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = head(dunkinRegions), col="pink", fill=TRUE, add=TRUE)
map("state", regions = tail(dunkinRegions), col="pink", fill=TRUE, add=TRUE)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = head(dunkinRegions), col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = head(dunkinRegions,n=1), col="pink", fill=TRUE, add=TRUE)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = "GA", col="pink", fill=TRUE, add=TRUE)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = "ga", col="pink", fill=TRUE, add=TRUE)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = "ca", col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = "CO", col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = "DE", col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = "CT", col="pink", fill=TRUE, add=TRUE)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
map("state", regions = head(dunkinRegions), col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
dunkinState <- state.name[grep(dunkinRegions, state.abb)]
map("state", regions = head(dunkinRegions), col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
abbrToState <- function(abbr) {
state.name[grep(abbr, state.abb)]
}
map("state", col = "darkgreen", fill=TRUE)
dunkinRegions <- statePrevalence[statePrevalence$mostcommon == "dunkin",]$state
dunkinState <- lapply(dunkinRegions,abbrToState)
map("state", regions = dunkinState, col="pink", fill=TRUE, add=TRUE)
title(main="Dunkin Donuts vs. Starbucks", sub="(colored by majority presence)")
legend("bottomleft",
legend = c("Starbucks", "Dunkin Donuts"),
col = c("darkgreen","pink"),
pch = 19,
bty = "n",
horiz = F)
library(maps)
map("state", regions = c("california","texas","utah","oregon","nevada","arizona"))
points(innout$Long, innout$Lat, pch = 20, cex=.2, col=as.numeric(gsub("^.*/", "",innout$`Date Opened`)))
View(innout)
library(maps)
map("state", regions = c("california","texas","utah","oregon","nevada","arizona"))
innout$`Date Opened` <- as.character(innout$`Date Opened`)
points(innout$Long, innout$Lat, pch = 20, cex=.2, col=as.numeric(gsub("^.*/", "",innout$`Date Opened`)))
library(shiny); runApp('Google Drive/Classes/3rdYear/STAT 331/Final/ShinyFinal.R')
runApp('Google Drive/Classes/3rdYear/STAT 331/Final/ShinyFinal.R')
runApp('Google Drive/Classes/3rdYear/STAT 331/Final/ShinyFinal.R')
runApp('Google Drive/Classes/3rdYear/STAT 331/Final/ShinyFinal.R')
runApp('Google Drive/Classes/3rdYear/STAT 331/Final/ShinyFinal.R')
runApp('Google Drive/Classes/3rdYear/STAT 331/Final/ShinyFinal.R')
library(shiny)
library(purrr)
library(dplyr)
library(timevis)
library(data.table)
source("Spotify.r")
token = spotifySetup();
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
data <- read.csv("music2.csv",header=TRUE)
data$title <- as.character(data$title)
data$artist_name <- as.character(data$artist_name)
data$lyrics <- as.character(data$lyrics)
data$image_url <- NA
data$preview_url <- NA
data$spotify_url <- NA
for(i in 1:10) {
response = trackRequest(token,as.character(data[i,"title"]),
as.character(data[i,"artist_name"]),
as.character(data[i,"year"]))
topTrack = getTopTrackData(response)
if(!is.na(topTrack$id)) {
data[i,"image_url"] <- if(length(topTrack$image)) topTrack$image else NA
data[i,"preview_url"] <- if(length(topTrack$preview_url)) topTrack$preview_url else NA
data[i,"spotify_url"] <- if(length(topTrack$url)) topTrack$url else NA
}
}
View(data)
data$image_url <- NA
library(shiny)
library(purrr)
library(dplyr)
library(timevis)
library(data.table)
source("Spotify.r")
token = spotifySetup();
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
data <- read.csv("music2.csv",header=TRUE)
data$title <- as.character(data$title)
data$artist_name <- as.character(data$artist_name)
data$lyrics <- as.character(data$lyrics)
data$image_url <- NA
data$preview_url <- NA
data$spotify_url <- NA
for(i in 1:nrow(data)) {
response = trackRequest(token,as.character(data[i,"title"]),
as.character(data[i,"artist_name"]),
as.character(data[i,"year"]))
topTrack = getTopTrackData(response)
if(!is.na(topTrack$id)) {
data[i,"image_url"] <- if(length(topTrack$image)) topTrack$image else NA
data[i,"preview_url"] <- if(length(topTrack$preview_url)) topTrack$preview_url else NA
data[i,"spotify_url"] <- if(length(topTrack$url)) topTrack$url else NA
}
}
View(data)
write.csv(data, file = "music2_spotify.csv")
library(shiny)
library(purrr)
library(dplyr)
library(timevis)
library(data.table)
source("Spotify.r")
token = spotifySetup();
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
data <- read.csv("music2.csv",header=TRUE)
data$title <- as.character(data$title)
data$artist_name <- as.character(data$artist_name)
data$lyrics <- as.character(data$lyrics)
data$image_url <- NA
data$preview_url <- NA
data$spotify_url <- NA
for(i in 1:nrow(data)) {
Sys.sleep(1)
response = trackRequest(token,as.character(data[i,"title"]),
as.character(data[i,"artist_name"]),
as.character(data[i,"year"]))
topTrack = getTopTrackData(response)
message(topTrack)
if(!is.na(topTrack$id)) {
data[i,"image_url"] <- if(length(topTrack$image)) topTrack$image else NA
data[i,"preview_url"] <- if(length(topTrack$preview_url)) topTrack$preview_url else NA
data[i,"spotify_url"] <- if(length(topTrack$url)) topTrack$url else NA
}
}
write.csv(data, file = "music2_spotify.csv")
library(shiny)
library(purrr)
library(dplyr)
library(timevis)
library(data.table)
source("Spotify.r")
token = spotifySetup();
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
data <- read.csv("music2.csv",header=TRUE)
data$title <- as.character(data$title)
data$artist_name <- as.character(data$artist_name)
data$lyrics <- as.character(data$lyrics)
data$image_url <- NA
data$preview_url <- NA
data$spotify_url <- NA
for(i in 470:nrow(data)) {
Sys.sleep(1)
response = trackRequest(token,as.character(data[i,"title"]),
as.character(data[i,"artist_name"]),
as.character(data[i,"year"]))
topTrack = getTopTrackData(response)
message(topTrack)
if(!is.na(topTrack$id)) {
data[i,"image_url"] <- if(length(topTrack$image)) topTrack$image else NA
data[i,"preview_url"] <- if(length(topTrack$preview_url)) topTrack$preview_url else NA
data[i,"spotify_url"] <- if(length(topTrack$url)) topTrack$url else NA
}
}
message(topTrack)
library(shiny)
library(purrr)
library(dplyr)
library(timevis)
library(data.table)
source("Spotify.r")
token = spotifySetup();
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
data <- read.csv("music2.csv",header=TRUE)
data$title <- as.character(data$title)
data$artist_name <- as.character(data$artist_name)
data$lyrics <- as.character(data$lyrics)
data$image_url <- NA
data$preview_url <- NA
data$spotify_url <- NA
for(i in 1:nrow(data)) {
Sys.sleep(1)
response = trackRequest(token,as.character(data[i,"title"]),
as.character(data[i,"artist_name"]),
as.character(data[i,"year"]))
topTrack = getTopTrackData(response)
message(topTrack)
tryCatch({
if(!is.null(topTrack$id) && !is.na(topTrack$id)) {
data[i,"image_url"] <- if(length(topTrack$image)) topTrack$image else NA
data[i,"preview_url"] <- if(length(topTrack$preview_url)) topTrack$preview_url else NA
data[i,"spotify_url"] <- if(length(topTrack$url)) topTrack$url else NA
}
}, warning = function(w) {
}, error = function(e) {
}, finally = {
})
}
library(shiny)
library(purrr)
library(dplyr)
library(timevis)
library(data.table)
source("Spotify.r")
token = spotifySetup();
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
data <- read.csv("music2.csv",header=TRUE)
data$title <- as.character(data$title)
data$artist_name <- as.character(data$artist_name)
data$lyrics <- as.character(data$lyrics)
data$image_url <- NA
data$preview_url <- NA
data$spotify_url <- NA
for(i in 1:nrow(data)) {
Sys.sleep(1)
response = trackRequest(token,as.character(data[i,"title"]),
as.character(data[i,"artist_name"]),
as.character(data[i,"year"]))
topTrack = getTopTrackData(response)
message(topTrack)
tryCatch({
if(!is.null(topTrack$id) && !is.na(topTrack$id)) {
data[i,"image_url"] <- if(length(topTrack$image)) topTrack$image else NA
data[i,"preview_url"] <- if(length(topTrack$preview_url)) topTrack$preview_url else NA
data[i,"spotify_url"] <- if(length(topTrack$url)) topTrack$url else NA
}
}, warning = function(w) {
}, error = function(e) {
}, finally = {
})
}
View(data)
write.csv(data, file = "music2_spotify.csv")
warnings()
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('ShinyFinal2.R')
runApp('shinyApp.R')
library(shiny); runApp('shinyApp.R')
